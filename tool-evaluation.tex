\chapter{Tool Evaluation}
\label{chap:tool-evaluation}

In this section, I want to access the effectiveness of my tool on real-world data. I took advantage of the commit histories in the previous empirical study on Python framework evolution. For 50 commits of typical changes, including method renaming, parameter changes, parameter default value changes, and return annotation changes, among frameworks TensorFlow, Django, and Pandas, \textit{ccdetector} was able to correctly detect all the occurred changes and classify them in line with the intentions documented in the commit messages.

\section{Subject Selection}

To take advantage of 

\section{Evaluation Criteria}

For every test case, we regard the documented intentions in commit messages as the ultimate metric to evaluate our detection results. If a change is recorded in the commit message but not reported by \textit{ccdetector}, then it is a false negative; if \textit{ccdetector} output something unseen in the corresponding commit, then it is a false positive.

\section{Evaluation Results}

There are several kinds of changes currently undetectable for \textit{ccdetector}, making up a big portion of false negatives in the evaluation results:

\begin{itemize}
    \item \textbf{The \textit{*args} and \textit{**kwargs} Parameters} Besides \textit{* (bare asterisk)}, other special parameters in Python functions include \textit{*args} and \textit{**kwargs}, both enabling programmers to pass a variable number of arguments to a function, whose content cannot be retrieved by merely looking at the function signature. The former allows passing a list of parameters, possibly of different types, into the function. The latter contains a dictionary of parameters. Modifications related to the two variable-quantity-parameter symbols are extra tricky to deal with, as the contents of those two parameters would only be unmasked by comprehending the actual implementation in the function body. If the framework API developer decided to insert or remove variables inside \textit{*args} or \textit{**kwargs}, or change the type of internal variables, we could only know until they take effects.  As previously explained, the analysis in this project is completely based on the edit scripts generated by GumTree. And currently, the inspection stays at the function signature level, not digging into detailed implementation. In addition, type analysis is also tremendously helpful but difficult and yet to be carried out. Based on the above reasons, ccdetector leaves the analysis of \textit{*args} and \textit{**kwargs} to future endeavors.
    \item \textbf{\textit{Boolean} Values} As one of Python's built-in types, booleans are subtypes of integers. Due to the defect that its node is found missing at the location of a boolean value in the AST produced by GumTree's parser, \textit{ccdetector} failed to detect all changes related to boolean values, making them all false negatives.
    \item \textbf{Cross-file Function Relocation} Due to the limitation that the evolution of only one Python source file is analyzed at a time, function relocations from the original file to others are not detected.
\end{itemize}
